<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2025-10-27T08:51:19Z</date>
    <groups>
        <group>
            <name>UPS</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template RPI script MUST PV18 inverter-ups</template>
            <name>Template RPI script MUST PV18 inverter-ups</name>
            <templates>
                <template>
                    <name>Template Module ICMP Ping</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>UPS</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>AC</name>
                </application>
                <application>
                    <name>Battery</name>
                </application>
                <application>
                    <name>Data</name>
                </application>
                <application>
                    <name>Temperature</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Температура радиатора AC</name>
                    <type>DEPENDENT</type>
                    <key>acRadiatorTemperature</key>
                    <delay>0</delay>
                    <units>C</units>
                    <applications>
                        <application>
                            <name>Temperature</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.acRadiatorTemperature</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Ток на батарее</name>
                    <type>DEPENDENT</type>
                    <key>batteryCurrent</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <applications>
                        <application>
                            <name>Battery</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.batteryCurrent</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Ток заряда батареи</name>
                    <type>DEPENDENT</type>
                    <key>BMS_BatteryChargeCurrent</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <applications>
                        <application>
                            <name>Battery</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.BMS_BatteryChargeCurrent</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Ток разряда батареи</name>
                    <type>DEPENDENT</type>
                    <key>BMS_BatteryDischargeCurrent</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <applications>
                        <application>
                            <name>Battery</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.BMS_BatteryDischargeCurrent</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Ток на батарее c BMS</name>
                    <type>DEPENDENT</type>
                    <key>BMS_Battery_Current</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <applications>
                        <application>
                            <name>Battery</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.BMS_Battery_Current</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Оставшаяся емкость батареи</name>
                    <type>DEPENDENT</type>
                    <key>BMS_Battery_SOC</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <applications>
                        <application>
                            <name>Battery</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.BMS_Battery_SOC</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;25</expression>
                            <name>{HOST.NAME}: Заряд батареи ниже 25%</name>
                            <priority>HIGH</priority>
                        </trigger>
                        <trigger>
                            <expression>{last()}&lt;50</expression>
                            <name>{HOST.NAME}: Заряд батареи ниже 50%</name>
                            <priority>HIGH</priority>
                        </trigger>
                        <trigger>
                            <expression>{last()}&lt;=15</expression>
                            <name>{HOST.NAME}: Низкий заряд батареи, &lt;15% !</name>
                            <priority>DISASTER</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Температура батареи</name>
                    <type>DEPENDENT</type>
                    <key>BMS_Battery_Temperature</key>
                    <delay>0</delay>
                    <units>C</units>
                    <applications>
                        <application>
                            <name>Temperature</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.BMS_Battery_Temperature</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Напряжение на батарее</name>
                    <type>DEPENDENT</type>
                    <key>BMS_Battery_Voltage</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <applications>
                        <application>
                            <name>Battery</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.BMS_Battery_Voltage</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>ChargingState</name>
                    <type>DEPENDENT</type>
                    <key>ChargingState</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.ChargingState</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Температура радиатора DC</name>
                    <type>DEPENDENT</type>
                    <key>dcRadiatorTemperature</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>C</units>
                    <applications>
                        <application>
                            <name>Temperature</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.dcRadiatorTemperature</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Частота на входе</name>
                    <type>DEPENDENT</type>
                    <key>gridFrequencyIn</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Hz</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.gridFrequencyIn</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;40</expression>
                            <name>{HOST.NAME}: Отсутствует первичное электропитание</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Текущая потребляемая мощность от сети</name>
                    <type>DEPENDENT</type>
                    <key>gridPowerIn</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.gridPowerIn</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Напряжение на входе</name>
                    <type>DEPENDENT</type>
                    <key>gridVoltageIn</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.gridVoltageIn</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Частота на выходе</name>
                    <type>DEPENDENT</type>
                    <key>inverterFrequencyOut</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Hz</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.inverterFrequencyOut</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Текущая полная мощность</name>
                    <type>DEPENDENT</type>
                    <key>inverterPower</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.inverterPower</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>Напряжение на выходе</name>
                    <type>DEPENDENT</type>
                    <key>inverterVoltageOut</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.inverterVoltageOut</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>DATA JSON</name>
                    <key>inverter_data</key>
                    <delay>3m</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Data</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Текущая мощность нагрузки</name>
                    <type>DEPENDENT</type>
                    <key>loadPowerOut</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <applications>
                        <application>
                            <name>AC</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.loadPowerOut</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
                <item>
                    <name>workState</name>
                    <type>DEPENDENT</type>
                    <key>workState</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <applications>
                        <application>
                            <name>Status</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <params>$.workState</params>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>inverter_data</key>
                    </master_item>
                </item>
            </items>
        </template>
    </templates>
    <graphs>
        <graph>
            <name>Battery capacity</name>
            <graph_items>
                <graph_item>
                    <drawtype>FILLED_REGION</drawtype>
                    <color>00AA00</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>BMS_Battery_SOC</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Battery charging</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>90A4AE</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>BMS_Battery_Voltage</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>FF4000</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>BMS_BatteryChargeCurrent</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>00897B</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>BMS_BatteryDischargeCurrent</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>In &amp; Out voltage</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>CCCCCC</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>gridFrequencyIn</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>DASHED_LINE</drawtype>
                    <color>455A64</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>inverterFrequencyOut</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>FF4000</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>gridVoltageIn</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>006600</color>
                    <yaxisside>RIGHT</yaxisside>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>inverterVoltageOut</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Load</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>2774A4</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>loadPowerOut</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>A54F10</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>inverterPower</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>FC6EA3</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>gridPowerIn</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <name>Temperature</name>
            <graph_items>
                <graph_item>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>00AA00</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>acRadiatorTemperature</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>A54F10</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>dcRadiatorTemperature</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <drawtype>BOLD_LINE</drawtype>
                    <color>0000AA</color>
                    <item>
                        <host>Template RPI script MUST PV18 inverter-ups</host>
                        <key>BMS_Battery_Temperature</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
